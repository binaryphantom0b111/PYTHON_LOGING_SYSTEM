
attempt = 3

def password_check():
  correct_username = 'agent'
  username = input("Enter username: ") .lower() .strip()

  correct_password = 'crypt'
  password = input("Enter password: ") .lower() .strip()

  if correct_username == username and correct_password == password:
    return True, username
  else:
    return False, None

while attempt > 0:
  success, user = password_check()
  if success:
    print(f"Access granted, welcome {user}.")
    break
  else:
    attempt -= 1
    print(f"Incorrect password/username, you have {attempt} remaining! ")
else:
  print("Credentials could not be verified..")
  exit()

while True:
  command = input("How can I assist you?: ") .lower() .strip()
  if command == 'help':
    print("""
  Available commands 
  help  - Shows available commands
  whoami - shows logged in user
  open   - opens file
  read   - reads file
  exit   - terminates program
  """)
  elif command == 'whoami':
    print(f"Currently logged in user: {user}")

  elif command == 'open':
    print("Opening file")
    content = input("Enter information: ") .lower() .strip()
    with open("secret_file.txt", "w") as file:
      file.write(content)

  elif command == 'read':
    print("File information: ")
    with open("secret_file.txt", "r") as file:
      txt = file.read()
      print(txt)

  elif command == 'exit':
    print(f"Terminating program, farewell {user}")
    break
  
